<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RD8E3F9BEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RD8E3F9BEH",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Weave GitOps" href="/opensearch.xml"><title data-react-helmet="true">Deploying the Sock Shop Application | Weave GitOps</title><meta data-react-helmet="true" property="og:url" content="https://docs.gitops.weave.works//docs/examples/sock-shop"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="0.5.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-0.5.0"><meta data-react-helmet="true" property="og:title" content="Deploying the Sock Shop Application | Weave GitOps"><meta data-react-helmet="true" name="description" content="In this example, we&#x27;ll show how easy it is to deploy a real world application using Weave GitOps. The Sock Shop is a well known microservices application that is widely used in demonstration and testing of microservice environments such as Kubernetes. We&#x27;ll actually see two different ways of deploying the Sock Shop:"><meta data-react-helmet="true" property="og:description" content="In this example, we&#x27;ll show how easy it is to deploy a real world application using Weave GitOps. The Sock Shop is a well known microservices application that is widely used in demonstration and testing of microservice environments such as Kubernetes. We&#x27;ll actually see two different ways of deploying the Sock Shop:"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon_150px.png"><link data-react-helmet="true" rel="canonical" href="https://docs.gitops.weave.works//docs/examples/sock-shop"><link data-react-helmet="true" rel="alternate" href="https://docs.gitops.weave.works//docs/examples/sock-shop" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.gitops.weave.works//docs/examples/sock-shop" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.5eca8642.css">
<link rel="preload" href="/assets/js/runtime~main.cf8525d1.js" as="script">
<link rel="preload" href="/assets/js/main.193f1f59.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/weave-logo.png" alt="Weave GitOps Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/weave-logo.png" alt="Weave GitOps Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Weave GitOps</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Introduction</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/installation">Installation</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/getting-started">Getting Started</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/aws-marketplace">AWS Marketplace</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/intro">0.5.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/examples/sock-shop">main</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/examples/sock-shop">0.5.0</a></li><li><a class="dropdown__link" href="/docs/0.4.1/examples/sock-shop">0.4.1</a></li><li><a class="dropdown__link" href="/docs/0.4.0/examples/sock-shop">0.4.0</a></li><li><a class="dropdown__link" href="/docs/0.3.3/examples/sock-shop">0.3.3</a></li><li><a class="dropdown__link" href="/docs/0.3.1/examples/sock-shop">0.3.1</a></li><li><a class="dropdown__link" href="/docs/0.3.0/examples/sock-shop">0.3.0</a></li><li><a class="dropdown__link" href="/docs/0.2.5/examples/sock-shop">0.2.5</a></li><li><a class="dropdown__link" href="/docs/0.2.4/examples/sock-shop">0.2.4</a></li><li><a class="dropdown__link" href="/docs/0.2.2/intro">0.2.2</a></li><li><a class="dropdown__link" href="/docs/0.2.1/intro">0.2.1</a></li><li><a class="dropdown__link" href="/docs/0.2.0/intro">0.2.0</a></li><li><a class="dropdown__link" href="/docs/0.0.5/intro">0.0.5</a></li></ul></div><a href="https://github.com/weaveworks/weave-gitops" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_xXbB"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/weave-logo.png" alt="Weave GitOps Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/weave-logo.png" alt="Weave GitOps Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Weave GitOps</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/aws-marketplace">AWS Marketplace</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/examples/sock-shop">main</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/examples/sock-shop">0.5.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.4.1/examples/sock-shop">0.4.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.4.0/examples/sock-shop">0.4.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.3.3/examples/sock-shop">0.3.3</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.3.1/examples/sock-shop">0.3.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.3.0/examples/sock-shop">0.3.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.2.5/examples/sock-shop">0.2.5</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.2.4/examples/sock-shop">0.2.4</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.2.2/intro">0.2.2</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.2.1/intro">0.2.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.2.0/intro">0.2.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.0.5/intro">0.0.5</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/weaveworks/weave-gitops" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">CLI Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops">gitops</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_add">gitops_add</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_add_app">gitops_add_app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_add_cluster">gitops_add_cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_beta">gitops_beta</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_beta_add">gitops_beta_add</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_beta_add_app">gitops_beta_add_app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_beta_init">gitops_beta_init</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_beta_install">gitops_beta_install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_delete">gitops_delete</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_delete_app">gitops_delete_app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_delete_cluster">gitops_delete_cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_flux">gitops_flux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_flux_status">gitops_flux_status</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_get">gitops_get</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_get_app">gitops_get_app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_get_cluster">gitops_get_cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_get_commits">gitops_get_commits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_get_credential">gitops_get_credential</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_get_template">gitops_get_template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_install">gitops_install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_resume">gitops_resume</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_resume_app">gitops_resume_app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_suspend">gitops_suspend</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_suspend_app">gitops_suspend_app</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_ui">gitops_ui</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_ui_run">gitops_ui_run</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_uninstall">gitops_uninstall</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_upgrade">gitops_upgrade</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli-reference/gitops_version">gitops_version</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/gitops-dashboard">GitOps Dashboard</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/aws-marketplace">AWS Marketplace</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Examples</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/examples/sock-shop">Deploying the Sock Shop Application</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/gitops-automation">GitOps Automation Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cluster management</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/managing-existing-clusters">Managing existing clusters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/cluster-api-providers">Cluster API Providers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/templates">CAPI Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/provider-identities">CAPI Provider Identities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/deleting-a-cluster">Deleting a Cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cluster-management/profiles">Profiles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Enterprise</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/enterprise/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/enterprise/upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/enterprise/configuration">Configuration</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 0.5.0</span><div class="markdown"><header><h1 class="h1Heading_27L5">Deploying the Sock Shop Application</h1></header><p>In this example, we&#x27;ll show how easy it is to deploy a real world application using Weave GitOps. The <em>Sock Shop</em> is a well known microservices application that is widely used in demonstration and testing of microservice environments such as Kubernetes. We&#x27;ll actually see two different ways of deploying the <em>Sock Shop</em>:</p><ul><li>as a plain set of Kubernetes manifests</li><li>as a helm chart</li></ul><header><h1 class="h1Heading_27L5">Prerequisites</h1></header><p>In order to deploy the <em>Sock Shop</em>, you need to first deploy Weave GitOps to a Kubernetes cluster. If you&#x27;d like to test this out locally, you can set up a <a href="https://kind.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">kind</a> cluster by following the instructions at the link. Regardless of which cluster you&#x27;d like to use, you can install Weave GitOps by first making sure your default kubeconfig points to the chosen cluster and then running <code>gitops install --app-config-url &lt;configuration repository&gt;</code>. The configuration repository is a Git repository that will hold the resource definitions required to manage your applications via GitOps. Please note that these examples are being run with the <code>GITOPS_TOKEN</code> environment variable set to a valid GitHub Personal Access Token (PAT) possessing <code>repo</code> access. If that were not the case, you would see extra user authentication steps in the output.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gitops install --app-config-url ssh://git@github.com/example/external.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš generating manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” manifests build completed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º installing components in wego-system namespace</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/alerts.notification.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/buckets.source.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/gitrepositories.source.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/helmcharts.source.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/helmreleases.helm.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/helmrepositories.source.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/imagepolicies.image.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/imagerepositories.image.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/imageupdateautomations.image.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/kustomizations.kustomize.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/providers.notification.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CustomResourceDefinition/receivers.notification.toolkit.fluxcd.io created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Namespace/wego-system created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ServiceAccount/wego-system/helm-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ServiceAccount/wego-system/image-automation-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ServiceAccount/wego-system/image-reflector-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ServiceAccount/wego-system/kustomize-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ServiceAccount/wego-system/notification-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ServiceAccount/wego-system/source-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ClusterRole/crd-controller-wego-system created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ClusterRoleBinding/cluster-reconciler-wego-system created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ClusterRoleBinding/crd-controller-wego-system created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Service/wego-system/notification-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Service/wego-system/source-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Service/wego-system/webhook-receiver created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Deployment/wego-system/helm-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Deployment/wego-system/image-automation-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Deployment/wego-system/image-reflector-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Deployment/wego-system/kustomize-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Deployment/wego-system/notification-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Deployment/wego-system/source-controller created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NetworkPolicy/wego-system/allow-egress created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NetworkPolicy/wego-system/allow-scraping created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NetworkPolicy/wego-system/allow-webhooks created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â—Ž verifying installation</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” helm-controller: deployment ready</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” image-automation-controller: deployment ready</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” image-reflector-controller: deployment ready</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” kustomize-controller: deployment ready</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” notification-controller: deployment ready</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” source-controller: deployment ready</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” install finished</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Deploy key generated and uploaded to git provider</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Writing manifests to disk</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Committing and pushing gitops updates for application</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Pushing app changes to repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Applying manifests to the cluster</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">arete: /tmp/sock-shop&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Once you see <code>â–º Applying manifests to the cluster</code>, your cluster is ready to go with Weave GitOps.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploying-with-weave-gitops"></a>Deploying with Weave GitOps<a class="hash-link" href="#deploying-with-weave-gitops" title="Direct link to heading">#</a></h2><p>Once you have a cluster running Weave GitOps, it&#x27;s simple to deploy an application like <a href="https://github.com/microservices-demo/microservices-demo" target="_blank" rel="noopener noreferrer"><em>Sock Shop</em></a>.</p><p>To deploy the <em>Sock Shop</em>, we need to use <code>gitops add app</code>. <code>gitops add app</code> will store the GitOps automation support for your application in the <code>.weave-gitops</code> directory of the configuration repository you specified at install time. The definition of your application can be stored either in a separate repository or in the configuration repository itself (for a simple all-in-one configuration). If you want to store the application resources in the configuration repository, you only need to specify the <code>--url</code> flag which will be used for both application and configuration resources; however, this assumes that the application repository URL was passed to <code>gitops install</code>. If you want the application resources to be stored separately, you need to specify both <code>--url</code> and <code>--app-config-url</code> parameters. The <code>--url</code> parameter should be the URL of the repository containing the application definition and the <code>--app-config-url</code> parameter must be the URL that was used in <code>gitops install</code>.</p><p>First, let&#x27;s fork the <em>Sock Shop</em> repository. You can simply go to the <a href="https://github.com/microservices-demo/microservices-demo" target="_blank" rel="noopener noreferrer">repository</a> in <code>GitHub</code> and select <code>Fork</code>.</p><p>Now, we can add the Sock Shop application to the configuration repository so it can be managed through GitOps:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; gitops add app --url ssh://git@github.com/example/microservices-demo.git --path ./deploy/kubernetes/manifests --app-config-url</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ssh://git@github.com/example/external.git --auto-merge</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Adding application:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Name: microservices-demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">URL: ssh://git@github.com/example/microservices-demo.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Path: ./deploy/kubernetes/manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Branch: master</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Type: kustomize</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â—Ž Checking cluster status</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” GitOps installed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating application spec manifest</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating GitOps automation manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Adding application &quot;microservices-demo&quot; to cluster &quot;kind-kind&quot; and repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Committing and pushing gitops updates for application</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Pushing app changes to repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Here we see all the pods running:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; kubectl get pods -A</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAMESPACE            NAME                                           READY   STATUS    RESTARTS   AGE</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          coredns-558bd4d5db-jgcf2                       1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          coredns-558bd4d5db-sht4v                       1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          etcd-kind-control-plane                        1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          kindnet-tdcd2                                  1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          kube-apiserver-kind-control-plane              1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          kube-controller-manager-kind-control-plane     1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          kube-proxy-mqvbc                               1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-system          kube-scheduler-kind-control-plane              1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">local-path-storage   local-path-provisioner-547f784dff-mqgjc        1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            carts-b4d4ffb5c-g82h6                          1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            carts-db-6c6c68b747-xtlgk                      1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            catalogue-759cc6b86-jk4gf                      1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            catalogue-db-96f6f6b4c-865w4                   1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            front-end-5c89db9f57-99vw6                     1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            orders-7664c64d75-qlz9d                        1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            orders-db-659949975f-fggdb                     1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            payment-7bcdbf45c9-fhl8m                       1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            queue-master-5f6d6d4796-cs5f6                  1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            rabbitmq-5bcbb547d7-kfzmn                      2/2     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            session-db-7cf97f8d4f-bms4c                    1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            shipping-7f7999ffb7-llkrw                      1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            user-68df64db9c-7gcg2                          1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sock-shop            user-db-6df7444fc-7s6wp                        1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wego-system          helm-controller-6dcbff747f-sfp97               1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wego-system          image-automation-controller-75f784cfdc-wxwk9   1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wego-system          image-reflector-controller-67d6bdcb59-hg2cv    1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wego-system          kustomize-controller-5d47cf49fb-b6pmg          1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wego-system          notification-controller-7569f7c974-824p9       1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wego-system          source-controller-5b976b8dd6-gqrl7             1/1     Running   0          9d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We can expose the sock shop in our browser by:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; kubectl port-forward service/front-end -n sock-shop 8080:80</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Forwarding from 127.0.0.1:8080 -&gt; 8079</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Forwarding from [::1]:8080 -&gt; 8079</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>and if we visit <code>http://localhost:8080</code>, we&#x27;l see:</p><p><img alt="sock shop" src="/assets/images/sock-shop-d6f3139b052fef35a1d86a6712b0e6bd.png"></p><p>Pretty simple! Now, let&#x27;s go back and look at that command in more detail:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gitops add app \                                                 # (1)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   --url ssh://git@github.com/example/microservices-demo.git \   # (2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   --path ./deploy/kubernetes/manifests \                        # (3)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   --app-config-url ssh://git@github.com/example/external.git    # (4)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   --auto-merge                                                  # (5)`</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol><li>Add an application to a cluster under the control of Weave GitOps</li><li>The application is defined in the GitHub repository at the specified URL</li><li>Only the manifests at the specified path within the repository are part of the application</li><li>Store the management manifests in a separate configuration repository within GitHub; the <code>app-config-url</code> parameter says where to store management manifests. The default location (if no <code>app-config-url</code> is specified) is to place them in the <code>.weave-gitops</code> directory within the application repository itself. An actual URL value causes them to be stored in the repository referenced by the URL</li><li>Don&#x27;t create a pull request for the management manifests; push them directly to the upstream repository</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-helm-charts"></a>Using Helm Charts<a class="hash-link" href="#using-helm-charts" title="Direct link to heading">#</a></h3><p>The application can also be deployed via a helm chart. Applications defined in helm charts can be deployed from either helm repositories or git repositories. In the case of the <em>Sock Shop</em> application, a helm chart is included in the <code>GitHub</code> repository. We only need to make minor changes to the command we used above to switch to a helm chart, but using a helm chart for <em>Sock Shop</em> requires the target namespace to exist before deploying. By default, the chart would be deployed into the <code>wego-system</code> namespace (since we know it exists), but we&#x27;d like to put it in the <code>sock-shop</code> namespace. So, before we run <code>gitops add app</code>, we&#x27;ll run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create namespace sock-shop</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">namespace/sock-shop created</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then, we can run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; gitops add app --url ssh://git@github.com/example/microservices-demo.git --path ./deploy/kubernetes/helm-chart --app-config-url ssh://git@github.com/example/external.git --deployment-type helm --helm-release-target-namespace sock-shop --auto-merge</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Adding application:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Name: microservices-demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">URL: ssh://git@github.com/example/microservices-demo.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Path: ./deploy/kubernetes/helm-chart</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Branch: master</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Type: helm</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â—Ž Checking cluster status</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” GitOps installed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating application spec manifest</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating GitOps automation manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Adding application &quot;microservices-demo&quot; to cluster &quot;kind-kind&quot; and repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Committing and pushing gitops updates for application</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Pushing app changes to repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Examining this command, we see two new arguments:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gitops add app \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--name microservices-demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--url ssh://git@github.com/example/microservices-demo.git \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--path ./deploy/kubernetes/helm-chart \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--app-config-url ssh://git@github.com/example/external.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--deployment-type helm \                   # (1)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--helm-release-target-namespace sock-shop  # (2)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--auto-merge</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol><li>Since we&#x27;re pulling the chart from a git repository, we need to explicitly state that we&#x27;re using a helm chart. If we were using a helm repository, we would use <code>--chart &lt;chart name&gt;</code> instead of <code>--path &lt;path to application&gt;</code> and the deployment type would be unambiguous</li><li>The application will be deployed in the namespace specified by <code>--helm-release-target-namespace</code></li></ol><p>You can check the status of the application by running the <code>gitops get app microservices-demo</code> command.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="single-repository-usage"></a>Single Repository Usage<a class="hash-link" href="#single-repository-usage" title="Direct link to heading">#</a></h3><p>As we mentioned above, it&#x27;s possible to have a single repository perform hold both the application and the configuration. If you place the application manifests in the configuration repository passed to <code>gitops install</code>, you can leave off the separate <code>--app-config-url</code> parameter. In this case, we would either have had to pass the <code>microservices-demo</code> URL to <code>gitops install</code> or copy the application manifests into the <code>external</code> repository. Let&#x27;s proceed as if we had initialized the cluster with: <code>gitops install --app-config-url ssh://git@github.com/example/microservices-demo.git</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; gitops add app --url ssh://git@github.com/example/microservices-demo.git --path ./deploy/kubernetes/manifests --auto-merge</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Adding application:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Name: microservices-demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">URL: ssh://git@github.com/example/microservices-demo.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Path: ./deploy/kubernetes/manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Branch: master</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Type: kustomize</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â—Ž Checking cluster status</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” GitOps installed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating application spec manifest</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating GitOps automation manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Adding application &quot;microservices-demo&quot; to cluster &quot;kind-kind&quot; and repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Committing and pushing gitops updates for application</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Pushing app changes to repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>So, it&#x27;s just like the example above except we didn&#x27;t have to call out the location of the configuration repository. Regardless of whether or not the application manifests are stored in the configuration repository, though, the configuration itself is stored in a special directory (<code>.weave-gitops</code>) at the top level of the configuration repository:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; tree .weave-gitops</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.weave-gitops</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ apps</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ microservices-demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â”œâ”€â”€ app.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â”œâ”€â”€ kustomization.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â”œâ”€â”€ microservices-demo-gitops-deploy.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â””â”€â”€ microservices-demo-gitops-source.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ clusters</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    â””â”€â”€ kind-kind</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â”œâ”€â”€ system</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â”‚Â Â  â”œâ”€â”€ flux-source-resource.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â”‚Â Â  â”œâ”€â”€ flux-system-kustomization-resource.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â”‚Â Â  â”œâ”€â”€ flux-user-kustomization-resource.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â”‚Â Â  â”œâ”€â”€ gitops-runtime.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â”‚Â Â  â”œâ”€â”€ wego-app.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â”‚Â Â  â””â”€â”€ wego-system.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        â””â”€â”€ user</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            â””â”€â”€ kustomization.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">6 directories, 11 files</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In this case, the <code>apps</code> directory contains one app (microservices-demo). The <code>app.yaml</code> file looks like:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wego.weave.works/v1alpha1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Application</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">wego.weave.works/app-identifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wego</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">85414ad27cd476d497d715818deda0c6</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wego</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">system</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">branch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> master</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">config_url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ssh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//git@github.com/example/external.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">deployment_type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> kustomize</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ./deploy/kubernetes/manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">source_type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ssh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//git@github.com/example/microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo.git</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>It describes the application and includes a label derived from the URL, path, and branch to prevent multiple applications from referencing the same source within git.</p><p>The <code>kustomization.yaml</code> file holds a list of application components that will be deployed:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> kustomize.config.k8s.io/v1beta1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Kustomization</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wego</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">system</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">resources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> app.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">gitops</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">deploy.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">gitops</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">source.yaml</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>microservices-demo-gitops-source.yaml</code> file tells flux the location (repository) containing the application. It has a special <code>ignore</code> section that skips <code>.weave-gitops</code> to support keeping an application in the configuration repository:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> source.toolkit.fluxcd.io/v1beta1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> GitRepository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wego</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">system</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ignore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .weave</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">gitops/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .git/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .gitignore</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .gitmodules</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .gitattributes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.jpg</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.jpeg</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.gif</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.png</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.wmv</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.flv</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.tar.gz</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">*.zip</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .github/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .circleci/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .travis.yml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .gitlab</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">ci.yml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    appveyor.yml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .drone.yml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cloudbuild.yaml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    codeship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">services.yml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    codeship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">steps.yml</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">**/.goreleaser.yml</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">**/.sops.yaml</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token important">**/.flux.yaml</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 30s</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ref</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">branch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> master</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//github.com/example/microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo.git</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>microservices-demo-gitops-deploy.yaml</code> file defines the path within the repository and the sync interval for the application:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> kustomize.toolkit.fluxcd.io/v1beta2</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Kustomization</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wego</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">system</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 1m0s</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ./deploy/kubernetes/manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">prune</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">sourceRef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> GitRepository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>(This will look different in the case of a helm chart; it will hold a <code>HelmRelease</code> rather than a <code>Kustomization</code>)</p><p>Finally, the <code>clusters</code> directory has a subdirectory for each cluster defining which applications will run there. The <code>user/kustomization.yaml</code> file in a specific cluster directory has a <code>resources</code> section containing a list of applications references:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">resources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ../../../apps/microservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-pull-requests"></a>Using Pull Requests<a class="hash-link" href="#using-pull-requests" title="Direct link to heading">#</a></h3><p>We&#x27;ve reached the all-singing, all-dancing case now. This is the way most people will actually use Weave GitOps in a real environment. Whether you use the default application repository model or have a separate configuration repository, you can support reviewing and auditing changes to your GitOps resources via <em>Pull Requests</em>. (Also, as a practical matter, many people don&#x27;t allow direct merges to their repositories without pull requests anyway)</p><p>In order to use pull requests for your GitOps resources, you simply need to leave off the <code>--auto-merge</code> flag we&#x27;ve been passing so far (in other words, using pull requests is the default). For example, if we run the previous command without <code>--auto-merge</code>, we see different output:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly console"><pre tabindex="0" class="prism-code language-console codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; gitops add app --url ssh://git@github.com/example/microservices-demo.git --path ./deploy/kubernetes/manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Adding application:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Name: microservices-demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">URL: ssh://git@github.com/example/microservices-demo.git</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Path: ./deploy/kubernetes/manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Branch: master</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Type: kustomize</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â—Ž Checking cluster status</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœ” GitOps installed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating application spec manifest</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">âœš Generating GitOps automation manifests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â–º Adding application &quot;microservices-demo&quot; to cluster &quot;kind-kind&quot; and repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Pull Request created: https://github.com/example/external/pull/14</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note the line: <code>Pull Request created: https://github.com/example/external/pull/14</code>. If we were to go to that GitHub repository and merge the pull request, the app would then be deployed.</p><p>Hopefully, this example has given you a good understanding of how to deploy applications with Weave GitOps. Thanks for reading!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/weaveworks/weave-gitops-docs/edit/main/versioned_docs/version-0.5.0/examples/sock-shop.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/aws-marketplace"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« AWS Marketplace</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/gitops-automation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GitOps Automation Configuration Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#deploying-with-weave-gitops" class="table-of-contents__link">Deploying with Weave GitOps</a><ul><li><a href="#using-helm-charts" class="table-of-contents__link">Using Helm Charts</a></li><li><a href="#single-repository-usage" class="table-of-contents__link">Single Repository Usage</a></li><li><a href="#using-pull-requests" class="table-of-contents__link">Using Pull Requests</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items"><li class="footer__item"><a href="mailto:support@weave.works" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contact Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Weaveworks</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cf8525d1.js"></script>
<script src="/assets/js/main.193f1f59.js"></script>
</body>
</html>